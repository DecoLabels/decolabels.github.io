<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" type="image/jpg" href="./img/logo.ico"/>
	  <link rel="icon" type="image/png" sizes="64x64" href="./img/decologoicon.png">
		<meta name='robots' content='noindex, nofollow'/>
    <title>Print Report | Deco Labels</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
	<link rel="stylesheet" href="./css/deco-styles.css">
	<script src="./js/jquery-3.6.0.min.js"></script>
	<script src="./js/deco-app.js"></script>
	<script type="text/JavaScript" src="https://cdnjs.cloudflare.com/ajax/libs/jQuery.print/1.6.0/jQuery.print.js"></script>
	<script type="text/JavaScript" src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.js"></script>

	<!-- <script src="./js/index.js"></script> -->
	<style>
	.select-list{border-color: #2F4F4F !important;border-radius:0;height:2em;}
	.is-clearfix{clear: both;}
	</style>
  </head>
  <body>
  <section class="section">
    <div class="container">
      <div class="columns is-centered">
	<div class="column is-half p-0">
		<a class="" href="./index.html">
			<img class="logo" src="./img/deco-logo.jpg" alt="Deco Labels"/>
		</a>
	</div>
	</div>		
    </div>
  </section>
   <section class="section py-0 px-3">
		<div class="searchbox pb-4 noprint">
			<div class="category">
				<select class="whatToPrint select is-medium is-fullwidth">
					<option value="">Select what to print</option>
					<option value="production-entry">Production Entry</option>
					<option value="order-picked">Order Picked</option>
					<option value="box-inventory">Box Inventory</option>
				</select>
			</div>

		   <div class="field has-addons">
			  <div class="control search-box order-picked is-fullwidth" style="display:none;">
				<input id="barcode-scanner" class="input mt-5" autofocus type="number" placeholder="Release Ticket" inputmode="numeric" pattern="[0-9]*">
			  </div>
			  <div class="control columns search-box production-entry mx-0" style="display:none;">
				<input id="datePicker" class="input column mt-5" autofocus="autofocus" type="date" placeholder="Enter Date">
				<label for="sortbycustomer" class="mt-5">
				Sort by Customer:
				</label>
				<input id="sortby" name="sortbycustomer" list="sortbycustomer" class="select-list column">
				<datalist id="sortbycustomer">					
					<option value="2213256 ONTARIO LTD. FRESHOUSE" data-id="FRE011">
					<option value="AD CREATIVE CORP" data-id="ADC003">
					<option value="ARTERRA WINES CANADA" data-id="RJS001">
					<option value="ASTERIX SECURITY" data-id="AST001">
					<option value="ATLANTIC LIFTS" data-id="ATL001">
					<option value="BATTISTONI ITALIAN SPECIALTY MEATS" data-id="BAT007">
					<option value="BEARSKIN AIRLINES | PERIMETER AVIATION" data-id="PER023">
					<option value="BIMBO BAKEHOUSE" data-id="WHO001">
					<option value="BRIDGEWAY PRINTING" data-id="BRI007">
					<option value="BUNZL CANADA INC BURLINGTON" data-id="BUN001">
					<option value="CAMAD" data-id="CAM012">
					<option value="CANADA BREAD COMPANY LIMITED" data-id="CAN093">
					<option value="CANADIAN CANNING INC." data-id="CAN130">
					<option value="CANPLAS INDUSTRIES LTD" data-id="CAN009">
					<option value="CARGILL FOODS - GUELPH" data-id="CAR034">
					<option value="CELTRADE CANADA INC." data-id="CEL006">
					<option value="CHRISTAN MARK" data-id="CHR009">
					<option value="COMMERCIAL BAKERIES CORPORATION" data-id="COM050">
					<option value="COMPASS GROUP CANADA" data-id="COM034">
					<option value="CONCORD PREMIUM MEATS LTD" data-id="CON027">
					<option value="CRAFT COAST CANNING" data-id="CRA006">
					<option value="CREATIVE MINDS PACKAGING" data-id="CRE015">
					<option value="CRYSTAL CLAIRE COSMETICS" data-id="CRY002">
					<option value="DECO LABELS & TAGS" data-id="DEC006">
					<option value="DRADER MANUFACTURING IND" data-id="DRA005">
					<option value="DUSTRONICS INC" data-id="DUS002">
					<option value="EATON CORPORATION" data-id="EAT002">
					<option value="ESP MARKETING SERVICES" data-id="ESP001">
					<option value="EXCELDOR COOPERATIVE" data-id="EXC009">
					<option value="FAST TRACK PACKAGING" data-id="FAS004">
					<option value="FGF BRANDS INC" data-id="FGF001">
					<option value="FIRST CHOICE BEVERAGE INC" data-id="FIR017">
					<option value="FOAM SOLUTIONS INC." data-id="FAB001">
					<option value="FORSYTHE LUBRICATION ASSOCIATES LTD." data-id="FOR001">
					<option value="FRESH DIRECT PRODUCE" data-id="FRE016">
					<option value="FRESHLINE FOODS" data-id="FRE013">
					<option value="FROG BOX (2267605 ONTARIO INC.)" data-id="FRO002">
					<option value="FUTURE TRANSFER CO INC" data-id="FTC001">
					<option value="GIVE AND GO PREPARED FOODS CORP" data-id="GIV003">
					<option value="GREENWOOD MUSHROOM FARM" data-id="GRE015">
					<option value="HOMETECH WINDOW CORP" data-id="HOM004">
					<option value="HUBERGROUP CANADA LIMITED" data-id="HOS001">
					<option value="HUNTER AMENITIES" data-id="HUN009">
					<option value="I-GARD CORPORATION" data-id="IPC001">
					<option value="IMPERIAL DADE CANADA INC." data-id="UNI029">
					<option value="IMPRESSIVE LABELS" data-id="IMP022">
					<option value="JAN K. OVERWEEL LTD./ZADI FOODS" data-id="JAN001">
					<option value="LAMY AMERICA" data-id="CEN012">
					<option value="LITENS AUTOMOTIVE PARTNERSHIP" data-id="LIT001">
					<option value="LOBLAW INC" data-id="LOB001">
					<option value="LONGEVITY ACRYLICS LIMITED" data-id="LON001">
					<option value="MAGNOTTA WINERY ESTATES LTD" data-id="MAG010">
					<option value="MAPLE LEAF FOODS INC" data-id="MAP026">
					<option value="MARATHON BUSINESS FORMS" data-id="MAR045">
					<option value="MARK IV PROMOTIONS INC" data-id="MAR042">
					<option value="MASCO CANADA LTD - PLUMBING GROUP" data-id="DEL003">
					<option value="MMIS INCORPORATED" data-id="MMI001">
					<option value="MONAGHAN MUSHROOMS LTD" data-id="MON006">
					<option value="MONCO PRODUCE INC." data-id="MON008">
					<option value="NICHE BAKERS CORP" data-id="NIC005">
					<option value="OAKVILLE FIRE DEPARTMENT" data-id="OAK002">
					<option value="ONTARIO MEDICAL OXYGEN SERVICES" data-id="BRO018">
					<option value="PARSON A.D.L. INC" data-id="PAR001">
					<option value="PETRO CANADA LUBRICANTS" data-id="PET014">
					<option value="PREMIER TECH HOME AND GARDEN" data-id="SPE017">
					<option value="PROPRINT SERVICES INC" data-id="PRO033">
					<option value="PSC CLEANING SYSTEMS INC" data-id="PSC001">
					<option value="RAVINE MUSHROOM FARMS INC" data-id="RAV001">
					<option value="REGIONAL MUNICIPALITY OF DURHAM" data-id="DUR003">
					<option value="REXALL PHARMACY GROUP" data-id="REX002">
					<option value="RICHARDSON OILSEED" data-id="MAT009">
					<option value="ROY TURK INDUSTRIAL SALES" data-id="ROY024">
					<option value="SAFEGUARD BUSINESS SYSTEMS" data-id="SAF008">
					<option value="SANTE MANUFACTURING INC." data-id="SAN015">
					<option value="SCHNEIDER ELECTRIC" data-id="FED010">
					<option value="SELECT FOOD PRODUCTS LTD" data-id="SEL003">
					<option value="SFI GROUP LIMITED" data-id="SFI001">
					<option value="SHOPPERS DRUG MART" data-id="SHO001">
					<option value="SM JALEEL AND COMPANY LTD." data-id="SMJ001">
					<option value="SOFINA FOODS INC" data-id="SOF003">
					<option value="ST HELEN'S MEAT PACKERS LIMITED" data-id="STH001">
					<option value="Stampede Culinary Partners, Inc." data-id="DEL016">
					<option value="STAPLES" data-id="IBF001">
					<option value="STEEL FIRE EQUIPMENT" data-id="RST001">
					<option value="SUMMER FRESH SALADS INC." data-id="SUM007">
					<option value="TEKNION LIMITED" data-id="TEK001">
					<option value="THE CUPCAKE SHOPPE" data-id="CUP001">
					<option value="THE ESSENTIAL IMAGE" data-id="ESS001">
					<option value="TRI-PAK CORP." data-id="TRI026">
					<option value="UPS CANADA" data-id="UPS001">
					<option value="VIENNA MEAT -  SOFINA FOODS INC." data-id="VIE001">
					<option value="WESTROCK  COMPANY OF CANADA CORP." data-id="MCL002">
					<option value="WINDHAM PACKAGING" data-id="WIN013">
					<option value="WOLF STEEL LTD" data-id="WOL002">
				</datalist>
			  </div>
			  <div class="control search-box box-inventory" style="display:none;">
				
			  </div>			  
			  <div class="control get-report" style="display:none;">
				<a class="button is-info search-ticket mt-5">Get Report</a>
			  </div>
		   </div>			
		</div>
		<div class="loader-wrapper">
            	     <div class="loader is-loading"></div>
        	</div>
		<!-- list item -->
		<div class="list-to-print">
		<div class="">
			<h1 class="is-size-4 has-text-weight-bold"></h1>
		</div>
		<div class="list is-clearfix" id="listtoprint" style="display:none;"></div>
		</div>
		<!-- list item -->
		<div class="container" >		
			<div class="field has-text-centered mt-6 print-button" style="margin-bottom:8rem;display:none;">
				<button class="button is-primary is-medium">PRINT</button>
			</div>			
		</div>
  </section>
  <nav class="navbar is-fixed-bottom" role="navigation" aria-label="main navigation">
	<div class="navbar-item">    
		<a class="" href="./index.html"><img class="home-icon image is-48x48" src="./img/home-icon.png" alt="HOME"/></a>
	</div>
  </nav>
  
 <!-- modal -->
<div id="updateBoxModal" class="modal">
<div class="modal-background" onclick="hideModal('#updateBoxModal')"></div>
 <button class="modal-close is-large" aria-label="close" onclick="hideModal('#updateBoxModal')"></button>  
  <div class="modal-content">
	<div class="formContainer">
			<div class="field">
			  <label class="label is-medium mb-0">TICKET:</label>
			  <div class="control input-field">
				<input id="isbn" class="input is-medium isbn" name="Ticket" type="number" placeholder="" inputmode="numeric" pattern="[0-9]*">
			  </div>
			</div>
			<div class="field">
			  <label class="label is-medium mb-0">NO. of BOX(ES):</label>
			  <div class="control">
				<input class="input is-medium NoOfBox" name="NoOfBox" type="number" placeholder="" inputmode="numeric" pattern="[0-9]*">				
			  </div>
			</div>
			<div class="field">
			  <label class="label is-medium mb-0">NO. of PART BOX:</label>
			  <div class="control">
				<input class="input is-medium NoOfPartBox" name="NoOfPartBox" type="number" placeholder="" inputmode="numeric" pattern="[0-9]*">				
			  </div>
			</div>
			<div class="field">
			  <label class="label is-medium mb-0">QUANTITY:</label>
			  <div class="control">
				<input class="input is-medium quantity" name="Quantity" type="number" placeholder="" inputmode="numeric" pattern="[0-9]*">				
			  </div>
			</div>
			<div class="field">
			  <label class="label is-medium mb-0">BOX SIZE:</label>
			  <div class="control">
			  <input list="boxes" class="select-list BoxSize" name="BoxSize" id="boxSize">
				<datalist id="boxes">			  
					<option value="8 ¼ x 4 3/8 x 10">
					</option><option value="9 x 9 x 4 ½">
					</option><option value="10 ¾ x 10 ¾ x 10">
					</option><option value="10 x 10 x 14">
					</option><option value="11 x 11 x 12">
					</option><option value="11 1/16 x 8 5/8 x 9 ½">
					</option><option value="11 ½ x 11 ½ x 6">
					</option><option value="FGF#1 11 3/8 x 11 3/8 x 3">
					</option><option value="FGF#3 11 3/8 x 11 3/8 x 4 ¾">
					</option><option value="FGF#2 12 x 12 x 3 ¾">
					</option><option value="12 x 12 x 6">
					</option><option value="12 x 9 x 9">
					</option><option value="12 x 12 x 12">
					</option><option value="12 ½ x 11 ¼  x 8 ½">
					</option><option value="13 x 9 ½ x 5">
					</option><option value="13 x 13 x 9">
					</option><option value="15 x 10 x 8 ¼"> 
					</option><option value="15 x 15 x 15">
					</option><option value="16 x 8 x 13">
					</option><option value="16 x 16 x 9">
					</option><option value="16 x 16 x 10">
					</option><option value="16 ¼  x 16 ¼  x 10 ½">
					</option><option value="17 x 9 x 11">
					</option><option value="18 x 9 x 10">
					</option><option value="20 ¾ x 10 3/8 x 9">
				</option></datalist>				
			  </div>
			</div>
			<input type="hidden" name="sheet" value="production_data">
			<div class="field has-text-centered my-6">
				<button class="button is-success is-medium updateBoxButton">UPDATE</button>
			</div>
		</div>
  </div>
</div>
  <!-- modal -->


  <script>
 $('.whatToPrint').change(function(){
 $('#listtoprint').html('');
 $('.list-to-print h1').html('');
 $('#sortby').val('');
 $('.print-button').css('display','none');
 
	var selected =  $('.whatToPrint').val();
	$('.search-box').css('display','none');
	$('.get-report').css('display','none');
	$('.search-box.'+selected).css('display','block');
	$('.get-report').css('display','block');
	if(selected == 'production-entry'){
		$('.get-report').addClass('m-5');
		$('.search-box').css('width','auto');
	}else{
		$('.get-report').removeClass('m-5');
		$('.search-box').css('width','100%');
	}
 });
  $('.search-ticket').click(function(){
		
	var whatToPrint = $('.whatToPrint').val();
	var whichTable = '';
	
	var resultHtml = '';
	$('.loader-wrapper').addClass('is-active');
						
	//get data from google sheet
	var itemstoprint = [];
	whichTable = (whatToPrint == 'order-picked' && whatToPrint != '') ? 'order_picked' : (whatToPrint == 'production-entry'  && whatToPrint != '') ? 'prodn_entry' : 'Box_Inventory';
	var message = (whatToPrint == 'order-picked' && whatToPrint != '') ? 'Please enter Release Ticket Number.' : 'Please enter the date you want to print the report.'
	var resultCount = 0;
	var filtered =[];
	var datePrepared = '';
	var htext = '';
	var whatreport = $('.whatToPrint').val();	
		
	if(whatreport != ''){
	
	$.ajax({
		headers: {'Accept' : 'application/json'},
		type: 'GET',
		url: "https://script.google.com/macros/s/AKfycbyz41PpsyM77NkNhqf6dsah3W5ApSPGIapH-Nrd1EqFNkS4rYYQ98dEwr5WI8Q65vjcGA/exec?action=read&table=" + whichTable,
		beforeSend: function(xhr){xhr.withCredentials = true;},
		success: function (response, textStatus, request){
				
			if(response.success){
				itemstoprint = response.data;	
				itemstoprint.filter(function( item ) {

				switch(whatToPrint) {
  				case 'order-picked':
					var tkt = $('.search-box.' + whatToPrint + ' input').val();
    					if((item.ReleaseTicket) == tkt ){   								
						resultHtml += '<div class="list-item row-'+item.row+'">'+
							         '<div class="list-item-content" id="'+item.ProductNumber+'">'+
							            '<div class="list-item-title"><b>Date: '+new Date(item.Timestamp).toLocaleDateString()+' '+item.ProductNumber+'</b> Ticket#: '+item.TicketNumber+'</div>'+
								     '<div class="list-item-description">'+
								        '<span class="ordrqty">Order QTY: '+item.OrderQty+ '</span>'+
								        '<span class="pqty px-2">Picked QTY: '+item.PickedQty+'</span>'+
								        '<span class="iqty px-2">No. of Boxes: '+(item.NoOfBox + item.NoOfPartBox) +'</span>'+														
								     '</div>'+														
								    '</div>'+													
							       '</div>';
								
						datePrepared = item.Timestamp;
						resultCount++;
					} 
				var d = new Date(datePrepared); d.toLocaleDateString('en-US', {month: 'short', day: 'numeric', year: 'numeric'});
			htext = 'Release Ticket#: '+tkt+ '<span class="is-pulled-right">Date: '+d.toLocaleDateString()+'</span>';
					$('#listtoprint').html('<h1>'+htext+'</h1>' + resultHtml);
    					break;

				case 'production-entry':
					var tkt = $('.search-box.' + whatToPrint + ' input').val();
					var sortby = $('#sortby').val();
					var sortbyID = $('option[value="'+sortby+'"]').data('id');
					var d = "";
					if(tkt.length > 7){
						//d = tkt.toString().substr(0,2) +"/"+tkt.toString().substr(2,2)+"/"+tkt.toString().substr(4,tkt.length);
					}else{
						//d = tkt.toString().substr(0,1) +"/"+tkt.toString().substr(1,2)+"/"+tkt.toString().substr(3,tkt.length);					
					}
					d = tkt.split('-')[1] + '/' + tkt.split('-')[2] + '/' + tkt.split('-')[0];
					var getD = new Date(item.Timestamp);
					var options = {month: '2-digit',day:'2-digit',year:'numeric'};
					
					
						
						if(sortby != ''){
							var custID = item.customer;
							if(getD.toLocaleDateString('en-US',options) == d  && item.CustID == sortbyID){   								
								resultHtml += '<div class="list-item row-'+item.row+'">'+
											 '<div class="list-item-content" id="'+item.Ticket+'">'+
												'<div class="list-item-title" data-id="'+item.Ticket+'"><b>TICKET#: '+item.Ticket+'</b></div>'+
											 '<div class="list-item-description columns">'+
												 '<div class="column is-9">'+
													'<span class="dpn">'+item.CustID+' '+item.description+ '</span><br>'+
													'<span class="ordrqty" data-qty="'+item.Quantity+'">QTY: '+item.Quantity+ '</span>'+
													'<span class="iqty px-2">No. of Boxes: '+(item.NoOfBox + item.NoOfPartBox) +'</span>'+	
													'<span class="bxsize px-2">Box Size: '+item.BoxSize +'</span>'+	
														'<input type="hidden" class="nb" name="nb" value="'+item.NoOfBox+'">'+
														'<input type="hidden" class="pb" name="pb" value="'+item.NoOfPartBox+'">'+
														'<input type="hidden" class="rn" name="rn" value="'+item.row+'">'+	
												 '</div>'+
												 '<div class="column is-3 noprint">'+
													'<button class="button is-dark" onclick="updatePrdnEntry('+item.row+')">UPDATE</button>'+
												 '</div>'+		
											 '</div>'+														
											'</div>'+													
										   '</div>';
										
								//datePrepared = item.Timestamp;
								resultCount++;
							} //if Timestamp
							
						}else{
							
							if(getD.toLocaleDateString('en-US',options) == d ){   								
								resultHtml += '<div class="list-item row-'+item.row+'">'+
											 '<div class="list-item-content" id="'+item.Ticket+'">'+
												'<div class="list-item-title" data-id="'+item.Ticket+'"><b>TICKET#: '+item.Ticket+'</b></div>'+
											 '<div class="list-item-description columns">'+
												'<div class="column is-9">'+
															'<span class="dpn">'+item.CustID+' '+item.description+ '</span><br>'+
													'<span class="ordrqty" data-qty="'+item.Quantity+'">QTY: '+item.Quantity+ '</span>'+
													'<span class="iqty px-2">No. of Boxes: '+(item.NoOfBox + item.NoOfPartBox) +'</span>'+	
													'<span class="bxsize px-2">Box Size: '+item.BoxSize +'</span>'+	
														'<input type="hidden" class="nb" name="nb" value="'+item.NoOfBox+'">'+
														'<input type="hidden" class="pb" name="pb" value="'+item.NoOfPartBox+'">'+
														'<input type="hidden" class="rn" name="rn" value="'+item.row+'">'+													
												'</div>'+
												'<div class="column is-3 noprint">'+
													'<button class="button is-dark" onclick="updatePrdnEntry('+item.row+')">UPDATE</button>'+
												'</div>'+												
											 '</div>'+														
											'</div>'+													
										   '</div>';
										
								//datePrepared = item.Timestamp;
								resultCount++;
							} //if Timestamp
						
						}
						
					
						htext = '<span class="is-pulled-left">'+ sortby +'</span><span class="is-pulled-right">Date: '+ tkt +'</span>';
						$('#listtoprint').html('<h2>'+htext+'</h2>' + resultHtml);

    					break;

				case 'box-inventory':
					// code block
								resultHtml += '<tr>'+
												'<td>'+item.BoxSize+'</td>'+
												'<td>'+item.Available+'</td>'+
											  '</tr>';
						
						$('#listtoprint').html('<table class="table is-bordered is-striped is-fullwidth"><thead><tr><th>BOX SIZE</th><th>AVAILABLE</th></tr></thead><tbody>'+resultHtml+'</tbody></table>');
    					$('#listtoprint').removeClass('list');
						break;

  				default:
    					return false;
				}

				}); //end filter

			
			
			//$('.list-to-print h1').html(htext);
			
		      
                       }else{
			   alert('No data available...');
		       }		
		} //success:
	}); //ajax


	setTimeout(function(){
		$('.list-to-print h1').html(htext);
		if(whatToPrint == 'box-inventory'){
			$('#listtoprint').html('<div class="table-container"><table class="table is-bordered is-striped is-fullwidth"><thead><tr><th>BOX SIZE</th><th>AVAILABLE</th></tr></thead><tbody>'+resultHtml+'</tbody></table></div>');
		}else{
			$('#listtoprint').html(resultHtml);	
		}
		$('.loader-wrapper').removeClass('is-active');					
		$('#listtoprint').css('display','block');
		$('.print-button').css('display','block');
		//$('.submit-release-order').css('display','block');
	}, 5000);



	}else{
		
		alert(message);
			
	}
}); //end click
		$('.print-button').click(function(){
		
			$('.list-to-print').print();
			
		});

		
			
			
	function updatePrdnEntry(rowNumber){			
		var ticketNumber = $('.list-item.row-'+rowNumber).find('.list-item-title').data('id');		
		var orderQty = $('.list-item.row-'+rowNumber).find('.ordrqty').data('qty');	
		var noOfBox = $('.list-item.row-'+rowNumber).find('.nb').val();
		var boxSize = $('.list-item.row-'+rowNumber).find('.bxsize').text();
		var partBox = $('.list-item.row-'+rowNumber).find('.pb').val();
		
//show modal
		$('.isbn').val(ticketNumber);	
		$('.NoOfBox').val(noOfBox);
		$('.quantity').val(orderQty);
		$('.BoxSize').val(boxSize.replace("Box Size: ",""));
		$('.NoOfBox').val(noOfBox);
		$('.NoOfPartBox').val(partBox);
		$('.NoOfPartBox').val(partBox);
		$('#updateBoxModal').css('display','block');
		$('.updateBoxButton').data('rownum',rowNumber);
	}
	$('.updateBoxButton').click(function(){
		var rownumber = $(this).data('rownum');
		var tkt = $('.isbn').val();	
		var nb = $('.NoOfBox').val();
		var qty = $('.quantity').val();
		var bsize = $('.BoxSize').val();
		var pb = $('.NoOfPartBox').val();
		var data = {
				"action":"update",
				"sheet":"producton_data",
				"row":rownumber,
				"Ticket":tkt,
				"NoOfBox":nb,
				"NoOfPartBox":pb,			
				"Quantity":qty,
				"BoxSize":bsize
			};
		$.ajax({
		headers: {'Accept' : 'application/json'},
		type: 'GET',
		url: "https://script.google.com/macros/s/AKfycbx_zG7kzBmgZTnnlOgBvyw2cPB3zWpzmRnCkcw8_TyrL-Tusp4xNm2kg44dIteaeaRj/exec",		
		data: data,
		beforeSend: function(xhr){
		xhr.withCredentials = true;
		},
		success: function (data, statusText, jqXHR){
		//console.log(statusText);
			if(statusText == 'success'){				
				$('#updateBoxModal').css('display','none');
				alert('Entry is successfully updated!');
				//update report display
				var totalBox = (nb*1) + (pb*1);
				$('#'+tkt+' .ordrqty').text('Order QTY: '+qty);
				$('#'+tkt+' .ordrqty').data('qty',qty);
				$('#'+tkt+' .iqty').text('No. of Boxes: '+ totalBox);
				$('#'+tkt+' .bxsize').text('Box Size: '+bsize);
				$('#'+tkt+' .nb').val(nb);
				$('#'+tkt+' .pb').val(pb);
			}else{
				alert('Ooppss.. Something went wrong. Please try again!');		
			}
		}
		});	
	});
		
  </script>
  </body>
</html>
